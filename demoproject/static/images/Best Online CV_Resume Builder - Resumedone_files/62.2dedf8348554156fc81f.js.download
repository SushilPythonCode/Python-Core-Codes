(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[62],{"mq+w":function(e,t,n){"use strict";n.r(t);var r,i=n("cpVT"),o=n("nKUr"),c=n("q1tI"),a=n("Vvt1"),u=n.n(a),s=n("yCOV"),d=n("ttZb"),p=n("20a2"),f=n("R554"),l=n("Oizg"),b=n("jT3O"),m=n("H+61"),v=n("UlJF"),g=n("7LId"),h=n("VIvw"),O=n("iHvq"),w=n("vOnD"),j=n("RWO2"),x=n("iEkq"),y=n("xmSN"),P=n("LHey");function k(){var e=Object(b.a)(["\n    margin: 20px auto;\n  "]);return k=function(){return e},e}function R(){var e=Object(b.a)(["\n    margin: 44px auto;\n  "]);return R=function(){return e},e}function S(){var e=Object(b.a)(["\n    padding: 0px 20px;\n  "]);return S=function(){return e},e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(O.a)(e);if(t){var i=Object(O.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var q=Object(P.d)(r=function(e){Object(g.a)(n,e);var t=I(n);function n(){var e,r;Object(m.a)(this,n);for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return Object(h.a)(r,(e=r=t.call.apply(t,[this].concat(c)),r.state={width:0},r.componentDidMount=function(){window.addEventListener("resize",r.updateWidth),r.updateWidth()},r.updateWidth=function(){if(r.preview){var e=r.preview.offsetWidth;r.setState({width:e})}},r.getPreviewRef=function(e){r.preview=e},r.getPreview=function(){var e=r.state.width,t=r.props,n=t.setPageState,i=t.getResume,c=t.updateImmue,a=i?Object(j.k)(i.settings.template):null;return Object(o.jsx)(C,{ref:r.getPreviewRef,children:Object(o.jsx)(x.a,{source:i,updateCount:i.updatesCount,setPageState:n,width:e,noDebounce:!0,variant:a,updateImmue:c})})},e))}return Object(v.a)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWidth)}},{key:"componentDidUpdate",value:function(e,t){e.loadingState&&!this.props.loadingState&&this.updateWidth()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.getResume,r=e.updateImmue;return Object(o.jsxs)(_,{children:[Object(o.jsx)(y.a,{source:n,loading:t,updateImmue:r}),Object(o.jsx)(D,{children:this.getPreview()})]})}}]),n}(c.PureComponent))||r,_=w.default.section.withConfig({displayName:"Page",componentId:"sc-1qqn6ti-0"})(["position:fixed;z-index:3;top:0;left:0;bottom:0;right:0;display:flex;pointer-events:auto;transform:translateY(0px);flex-flow:column nowrap;"]),D=w.default.div.withConfig({displayName:"PreviewContent",componentId:"sc-1qqn6ti-1"})(["background-color:#e5e4ea;height:calc(100vh - 70px);flex:1 0 0px;padding:20px 0px;overflow-y:auto;"," &::-webkit-scrollbar{width:14px;height:292px;}&::-webkit-scrollbar-thumb{border:4px solid rgba(0,0,0,0);background-clip:padding-box;border-radius:7px;scroll-padding-top:10px;background-color:#131518;}"],(function(e){return e.theme.max("sm")(S())})),C=w.default.div.withConfig({displayName:"Preview",componentId:"sc-1qqn6ti-2"})(["max-width:928px;overflow:hidden;height:","px;transform:translateY(0px);opacity:1;margin:60px auto;background:white;border-radius:",";"," ",""],(function(e){return e.height}),(function(e){return e.theme.general.borderRadius}),(function(e){return e.theme.max("md")(R())}),(function(e){return e.theme.max("sm")(k())})),E=q,W=n("FWZJ"),N=n("br9w");function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=u()((function(){return n.e(60).then(n.bind(null,"kuKP"))}),{loadableGenerated:{webpack:function(){return["kuKP"]},modules:["resume-preview.js -> ../imports/core/ui/components/ErrorOccured"]}});t.default=function(){var e=Object(c.useContext)(P.c),t=e.screenResolution,n=t.width,r=t.height,a=e.deviceInfo,u=Object(p.useRouter)().query.resumeId,b=Object(d.c)(f.d,{variables:{resumeId:u}}),m=b.loading,v=b.error,g=b.data,h=Object(N.b)().locale,O=Object(c.useState)(null),w=O[0],j=O[1],x=Object(c.useState)(1),y=x[0],k=x[1],R=Object(c.useState)(null),S=R[0],I=R[1],q=Object(s.b)();Object(c.useEffect)((function(){Object(W.v)("preview_page_experiment_2"),Object(W.v)("generator_resume_preview"),q.track("preview_view",{screenResolution:"".concat(n,"x").concat(r),deviceType:a.type,deviceOS:a.OS,deviceBrand:a.brand,deviceModel:a.model,website_language:h})}),[]);if(m)return Object(o.jsx)(l.a,{});if(v)return Object(o.jsx)(J,{});var _=S||g.getResume;return Object(o.jsx)(E,{getResume:_,currentPage:y,numPages:w,width:n,setPageState:function(e,t){k(e),j(t)},onNextPage:function(){return k(y+1)},onPreviousPage:function(){return k(y-1)},updateImmue:function(e,t){if(e&&I(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),t)return _}})}}}]);